//Question ba
var questionBank = [{


        main: 'Listening',
        desc: ' Listen. Choose the words you hear.',
        question: 'Is your_____________there?',
        option: ['mother', 'father', 'sister'],
        answer: 'mother'
    },
    {
        main: 'Listening',
        desc: ' Listen. Choose the words you hear.',
        question: ' Where\’s the_______________ ?.',
        option: ['book', 'notebook', 'pen'],
        answer: 'notebook'
    },
    {
        main: 'Listening',
        desc: ' Listen. Choose the words you hear.',
        question: 'Are your_________ here?',
        option: ['uncle', 'cousin', 'nephew'],
        answer: 'cousin'
    },

    {
        main: 'Listening',
        desc: ' Listen. Choose the words you hear.',
        question: 'I have a bad_______________ .',
        option: ['backache', 'stomach', 'stomachache'],
        answer: 'stomachache'
    },
    {
        main: 'Listening',
        desc: ' Listen. Choose the words you hear.',
        question: 'I sprained my__________________.',
        option: ['ankle', 'uncle', 'hand'],
        answer: 'ankle'
    },
    {
        main: 'Listening',
        desc: 'Listen. Choose the letter of the sentences you hear.',
        question: '1',
        option: [' It\’s on the sofa.', 'It\’s under the shelf.', 'It\’s on the shelf'],
        answer: 'It\’s on the shelf'

    },

    {
        main: 'Listening',
        desc: 'Listen. Choose the letter of the sentences you hear.',
        question: '2',
        option: [' I have a fever.', 'She has the flu.', ' I have the flu.'],
        answer: 'She has the flu.'
    },
    {
        main: 'Listening',
        desc: 'Listen. Choose the letter of the sentences you hear.',
        question: '3',
        option: ['Yes\, she is.', 'Yes\, it is.', 'Yes\, they are.'],
        answer: 'Yes\, she is.'
    },
    {
        main: 'Listening',
        desc: 'Listen. Choose the letter of the sentences you hear.',
        question: '4',
        option: [' No\, they aren\’t.', 'Yes\, they are.', 'Yes\, we are.'],
        answer: 'Yes\, they are.'
    },
    {
        main: 'Listening',
        desc: 'Listen. Choose the letter of the sentences you hear.',
        question: '5',
        option: ['He\’s working', 'She\’s working.', 'They\’re working.'],
        answer: 'He\’s working'
    },

    {
        main: 'Grammar',
        desc: 'Choose the correct word.',
        question: '_________he from Russia?',
        option: ['Does', 'Is', 'DO'],
        answer: 'Is'
    },
    {
        main: 'Grammar',
        desc: 'Choose the correct word.',
        question: ' The maps are______the table.',
        option: ['on', 'in', 'in front'],
        answer: 'on'
    },
    {
        main: 'Grammar',
        desc: 'Choose the correct word.',
        question: 'Are you_________?',
        option: ['study', 'studying', 'studies'],
        answer: 'studying'
    },
    {
        main: 'Grammar',
        desc: 'Choose the correct word.',
        question: '_________Mrs. Jones have a backache?',
        option: ['Do', 'Does', 'IS'],

        answer: 'Does'
    },
    {
        main: 'Grammar',
        desc: 'Choose the correct word.',
        question: ' Go two blocks.____________left.',
        option: ['Turn', 'Turning', 'Turns'],
        answer: 'Turn'
    },
    {
        main: 'Grammar',
        desc: 'Choose the suitable answer for each question.',
        question: 'Where are they from?',
        option: ['They\'re from china', 'They\'re on the table', 'They\'re students'],
        answer: 'They\'re from china'
    },
    {
        main: 'Grammar',
        desc: 'Choose the suitable answer for each question.',
        question: 'Are they eating?',
        option: ['Yes, it is.', 'Yes\, they are.', 'Yes\,we are.'],
        answer: 'Yes\, they are.'
    },
    {
        main: 'Grammar',
        desc: 'Choose the suitable answer for each question.',
        question: 'What are they doing?',
        option: ['They\'re taking a break', 'Yes, they do.', 'They\'re on the table.'],
        answer: 'They\'re taking a break'
    },
    {
        main: 'Grammar',
        desc: 'Choose the suitable answer for each question.',
        question: 'Do they have stomachaches?',
        option: ['Yes, they have', 'Yes, they are',
            'Yes, they do.'
        ],
        answer: 'Yes, they do.'
    },
    {
        main: 'Grammar',
        desc: 'Choose the suitable answer for each question.',
        question: 'Where are the erasers?',
        option: ['They\'re on the table', 'It\'s on the table', 'Yes, they are'],
        answer: 'They\'re on the table'
    },
    {
        main: 'Reading',
        desc: 'Read the passage . Then read the following questions and circle the correct answer.Tom Kent is a teacher.He is 40 years old.His wife is a doctor,and she is 36 years old.They have three children.Their names are Anthony, Kate and Susan.Anthony is eleven years old,Kate is eight years old,and Susan is the baby of the family.She is four years.',
        question: 'What is their last name? ',
        option: ['Abby', 'Kent', 'Parents'],
        answer: 'Kent'
    },
    {
        main: 'Reading',
        desc: 'Read the passage . Then read the following questions and circle the correct answer.Tom Kent is a teacher.He is 40 years old.His wife is a doctor,and she is 36 years old.They have three children.Their names are Anthony, Kate and Susan.Anthony is eleven years old,Kate is eight years old,and Susan is the baby of the family.She is four years.',
        question: 'How many children do Tom and Abby have?',
        option: ['1', '2', '3'],
        answer: '3'
    },
    {
        main: 'Reading',
        desc: 'Read the passage . Then read the following questions and circle the correct answer.Tom Kent is a teacher.He is 40 years old.His wife is a doctor,and she is 36 years old.They have three children.Their names are Anthony, Kate and Susan.Anthony is eleven years old,Kate is eight years old,and Susan is the baby of the family.She is four years.',
        question: 'How many daughters do they have?',
        option: ['1', '2', '3'],
        answer: '2'
    },
    {
        main: 'Reading',
        desc: 'Read the passage . Then read the following questions and circle the correct answer.Tom Kent is a teacher.He is 40 years old.His wife is a doctor,and she is 36 years old.They have three children.Their names are Anthony, Kate and Susan.Anthony is eleven years old,Kate is eight years old,and Susan is the baby of the family.She is four years.',
        question: 'Who is four years old?',
        option: ['Abby', 'Anthony', 'Susan'],
        answer: 'Susan'
    },
    {
        main: 'Reading',
        desc: 'Read the passage . Then read the following questions and circle the correct answer.Tom Kent is a teacher.He is 40 years old.His wife is a doctor,and she is 36 years old.They have three children.Their names are Anthony, Kate and Susan.Anthony is eleven years old,Kate is eight years old,and Susan is the baby of the family.She is four years.',
        question: 'Who is Tom\’s son?',
        option: ['Abby', 'Anthony', 'kate'],
        answer: 'Anthony'
    },

]

var question = document.getElementById('question');
var quizContainer = document.getElementById('quiz-container');
var scorecard = document.getElementById('scorecard');
var main = document.getElementById('main');
var desc = document.getElementById('desc');

var option0 = document.getElementById('option0');
var option1 = document.getElementById('option1');
var option2 = document.getElementById('option2');
var option3 = document.getElementById('option3');
var next = document.querySelector('.next');
var previous = document.querySelector('.previous');
var points = document.getElementById('score');
var span = document.querySelectorAll('span');
var stat = document.querySelector('#stat');
var AudioA = document.getElementById('listeningA');
var AudioB = document.getElementById('listeningB');
var i = 0;
var score = 0;

//function to display questions
function displayQuestion() {

    for (var a = 0; a < span.length; a++) {
        span[a].style.background = 'none';
    }

    main.innerHTML = '' + questionBank[i].main;
    desc.innerHTML = '' + questionBank[i].desc;
    question.innerHTML = 'Q.' + (i + 1) + ' ' + questionBank[i].question;
    if (i === 5) {
        AudioA.style.display = "none";
        AudioB.style.display = "block";

    }
          else if (i === 10) {
        AudioB.style.display = "none";


    }
    option0.innerHTML = questionBank[i].option[0];
    option1.innerHTML = questionBank[i].option[1];
    option2.innerHTML = questionBank[i].option[2];
    stat.innerHTML = "Question" + ' ' + (i + 1) + ' ' + 'of' + ' ' + questionBank.length;

}

//function to calculate scores
function calcScore(e) {
    if (e.innerHTML === questionBank[i].answer && score < questionBank.length) {
        score = score + 1;

    }
    setTimeout(nextQuestion, 300);
}
//function to display next question
function nextQuestion() {

    if (i < questionBank.length - 1) {
        i = i + 1;
        displayQuestion();

    } else {
        points.innerHTML = score;
        quizContainer.style.display = 'none';
        scoreboard.style.display = 'block'
    }


}

//function to display previous question
function previousQuestion() {
    if (i <= questionBank.length - 1) {
        i = i - 1;
        if (i <= 5) {
            AudioA.style.display = "block";
            AudioB.style.display = "none";
        }
             else if (i <= 10) {
            AudioB.style.display = "block";


        }
        displayQuestion();
    }
}
//click events to previous button
previous.addEventListener('click', previousQuestion);
//click events to next button
next.addEventListener('click', nextQuestion);






displayQuestion();

audio.onclick = function() {
    window.addEventListener("click", function() {

        document.querySelector(".iframe").style.display = "block";
        document.querySelector("#close").style.display = "block";


    });



}
var btn = document.getElementById("close");

btn.onclick = function() {

    window.addEventListener("click", function() {

        document.querySelector(".iframe").style.display = "none";

        document.querySelector("#close").style.display = "none";

    });
}

function send_handle() {

    let num = document.getElementById("number").value;
    let msg = document.getElementById("msg").value;
    let msg1 = document.getElementById("msg1");
    msg = points.innerHTML;
    let name = document.getElementById("name").value;
    if (name == "") {
        msg1.innerHTML = "لا يمكنك ترك الاسم فارغا";
    } else {
        var win = open(`https://wa.me/${num}?text=أنا الطالب : ${name}%20كود الإختبار هو :9582${msg}_IAOTS`, 'self');
        // win.focus();
    }
}

window.onbeforeunload = function() {
    return "Dude, are you sure you want to leave? Think of the kittens!";
}

var sec = 3600,
    countDiv = document.getElementById("timer"),
    secpass,
    countDown = setInterval(function() {
        'use strict';

        secpass();
    }, 1000);

function secpass() {
    'use strict';

    var min = Math.floor(sec / 60),
        remSec = sec % 60;

    if (remSec < 10) {

        remSec = '0' + remSec;

    }
    if (min < 10) {

        min = '0' + min;

    }
    countDiv.innerHTML = min + ":" + remSec;

    if (sec > 0) {

        sec = sec - 1;

    } else {

        clearInterval(countDown);

        countDiv.innerHTML = 'countdown done';

    }
}
